<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-button routerLink="/home" [replaceUrl]="true">
                <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title>
          <div class="title-container">
            <div>{{dispositivo?.nombre || '-'}}</div>
            <div [estado]="dispositivo?.electrovalvulaAbierta || false" class="circle-shape"></div>
          </div>
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
        <ion-title size="large">Dispositivo</ion-title>
    </ion-toolbar>
  </ion-header>

  <div id="highcharts" style="width:100%; height:300px;"></div>

  <div class="container">
    <ion-button
      *ngIf="dispositivo?.electrovalvulaAbierta"
      (click)="cerrarElectrovalvula()"
      shape="round"
      class="dispositivo-button"
    >CERRAR ELECTROVÁLVULA</ion-button>
    <ion-button
      *ngIf="!dispositivo?.electrovalvulaAbierta"
      (click)="abrirElectrovalvula()"
      shape="round"
      class="dispositivo-button"
    >ABRIR ELECTROVÁLVULA</ion-button>
  </div>
  <div class="container">
    <ion-button
      routerLink="/mediciones/{{dispositivo?.dispositivoId}}"
      [replaceUrl]="true"
      shape="round"
      fill="outline"
      class="dispositivo-button"
    >VER TODAS LAS MEDICIONES</ion-button>
  </div>
  <div class="container">
    <ion-button
      routerLink="/riegos/{{dispositivo?.dispositivoId}}/{{dispositivo?.electrovalvulaId}}"
      [replaceUrl]="true"
      shape="round"
      fill="outline"
      class="dispositivo-button"
    >VER LOS RIEGOS</ion-button>
  </div>
</ion-content>
